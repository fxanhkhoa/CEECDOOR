#phan install mysql
sudo apt update
sudo apt install mysql-server

sudo mysql_secure_installation
#phan nay nho set pass
#nhap y cho tat ca cac cau hoi

#tao va sua doi user
sudo mysql

#nhap cau lenh sau se thay tat ca cac users
SELECT user,authentication_string,plugin,host FROM mysql.user;
#ket qua
+------------------+-------------------------------------------+-----------------------+-----------+
| user             | authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+-----------------------+-----------+
| root             |                                           | auth_socket           | localhost |
| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | *91A6A9E37787A4266ECFD4E42DAF27D52A7ED950 | mysql_native_password | localhost |
+------------------+-------------------------------------------+-----------------------+-----------+

#sua doi lai
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';
FLUSH PRIVILEGES;
SELECT user,authentication_string,plugin,host FROM mysql.user;
#ketqua
+------------------+-------------------------------------------+-----------------------+-----------+
| user             | authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+-----------------------+-----------+
| root             | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | mysql_native_password | localhost |
| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | *91A6A9E37787A4266ECFD4E42DAF27D52A7ED950 | mysql_native_password | localhost |
+------------------+-------------------------------------------+-----------------------+-----------+

exit

mysql -u root -p
#yeu cau nhap pass thi nhap 123456 va nhan enter

#tao users
CREATE USER 'smarthome'@'localhost' IDENTIFIED BY '123456';
GRANT ALL PRIVILEGES ON *.* TO 'smarthome'@'localhost' WITH GRANT OPTION;

#tao database
create database smarthome;
use smarthome;

#tao table
create table users ( ID char(30) primary key, PASS char(30) NOT NULL );

create table devices (DV_ID char(20) primary key, ID char(30) not null, DV_NAME varchar(30), STATUS tinyint(1), TYPE varchar(20), foreign key (ID) references users (ID));
